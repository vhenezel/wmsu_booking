<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="icon" type="image/x-icon" href="../static/img/wmsulogo.png">
	<title>Registration Form</title>
	<link type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
	<!-- fontawesome -->
	<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
    <!-- OFFLINE BOOTSTRAP -->
    <!-- Font Awesome -->
    <link rel="stylesheet" href="../static/fontawesome/css/all.min.css">
	<link rel="stylesheet" href="../static/bootstrap/bootstrap-4.6.1-dist/css/bootstrap.min.css'" />
	<!-- Local -->
    <link rel="stylesheet" href="../static/css/reg.css">
    <link rel="stylesheet" href="../static/preloader/loader.css">
</head>
<body>
    <!--preloader-->
    <div class="loader" style="height: 105vh;">
        <div class="preloadermain">
            <img src="../static/img/wmsulogo.png" width="110" height="95">
            <div class="precircle">
            </div>
        </div>
    </div>
    
    <div class="container mb-5">
        <div class="row justify-content-center">
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        {% if category == 'error' %}
                        <div class="alert alert-danger alter-dismissable fade show mt-3" role="alert">
                            {{ message }}
                            <button type="button" class="close" data-bs-dismiss="alert">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        {% else %}
                        <div class="alert alert-success alter-dismissable fade show mt-3" role="alert">
                            {{ message }}
                            <button type="button" class="close" data-bs-dismiss="alert">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        {% endif %}
                    {% endfor %}
                {% endif %}
            {% endwith %}
            <div class="col-lg-5 signup-form bg-light border rounded mt-4 mb-4">
                <form action="/register" method="POST" class="mt-4 mb-4">
                    <h2>Register</h2>
                    <p class="hint-text">Create your account!</p>
                    {{ form.hidden_tag() }}
                    <fieldset>
                        <div class="form-group">
                            {% if form.firstname.errors %}
                                {{ form.firstname(class="form-control is-invalid", placeholder="*First name")}}
                                <div class="invalid-feedback">
                                    {% for error in form.firstname.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.firstname(class="form-control", placeholder="*First name")}}
                            {% endif %}
                        </div>
                        <div class="form-group">
                            {% if form.middlename.errors %}
                                {{ form.middlename(class="form-control is-invalid", placeholder="Middle name (Optional)")}}
                                <div class="invalid-feedback">
                                    {% for error in form.middlename.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.middlename(class="form-control", placeholder="Middle name (Optional)")}}
                            {% endif %}
                        </div>
                        <div class="form-group">
                            {% if form.lastname.errors %}
                                {{ form.lastname(class="form-control is-invalid", placeholder="*Last name")}}
                                <div class="invalid-feedback">
                                    {% for error in form.lastname.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.lastname(class="form-control", placeholder="*Last name")}}
                            {% endif %}
                        </div>
                        <div class="form-group">
                            {% if form.email.errors %}
                                {{ form.email(class="form-control is-invalid", placeholder="*Email")}}
                                <div class="invalid-feedback">
                                    {% for error in form.email.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.email(class="form-control", placeholder="*Email")}}
                            {% endif %}
                        </div>
                        <div class="form-group">
                            {% if form.phone.errors %}
                                {{ form.phone(class="form-control is-invalid", placeholder="*Phone")}}
                                <div class="invalid-feedback">
                                    {% for error in form.phone.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.phone(class="form-control", placeholder="*Phone")}}
                            {% endif %}
                        </div>
                        <div class="form-group">
                            <div class="input-group" id="show_hide_password">
                                {% if form.password.errors %}
                                    {{ form.password(class="form-control is-invalid", placeholder="*Password", id="passwordw")}}
                                    <div class="input-group-append">
                                        <span class="input-group-text" onclick="password_show_hides();">
                                            <i class="fas fa-eye" id="show_eye"></i>
                                            <i class="fas fa-eye-slash d-none" id="hide_eye"></i>
                                        </span>
                                    </div>
                                    <div class="invalid-feedback">
                                        {% for error in form.password.errors %}
                                            <span>{{ error }}</span>
                                        {% endfor %}
                                    </div>
                                {% else %}
                                    {{ form.password(class="form-control", placeholder="*Password", id="passwordw")}}
                                    <div class="input-group-append">
                                        <span class="input-group-text" onclick="password_show_hides();">
                                            <i class="fas fa-eye" id="show_eye"></i>
                                            <i class="fas fa-eye-slash d-none" id="hide_eye"></i>
                                        </span>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                        <div class="form-group">
                            {% if form.confirm_password.errors %}
                                {{ form.confirm_password(class="form-control is-invalid", placeholder="*Confirm Password", id="confirm_pass")}}
                                <div class="invalid-feedback">
                                    {% for error in form.confirm_password.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.confirm_password(class="form-control", placeholder="*Confirm Password", id="confirm_pass")}}
                            {% endif %}
                        </div>
                    </fieldset>
                    <div class="form-group" align ="center">
                        {{ form.submit(class="form-control btn btn-success btn-lg")}}
                    </div>
                    <div class="text-center">Already have an account? <a href="/">Sign in</a></div>
                </form>
            </div>
        </div>
    </div>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootsrap.min.js"></script>
    <script scr="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/proper.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqBootstrapValidation/1.3.6/jqBootstrapValidation.js"></script>
    <!-- script -->
    <script src="../static/preloader/loader.js"></script>
    <script src="../static/jquery/showpassword_hover.js"></script>

    <script>
        (function () {
        'use strict'

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.querySelectorAll('.needs-validation')

        // Loop over them and prevent submission
        Array.prototype.slice.call(forms)
            .forEach(function (form) {
            form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
                }

                form.classList.add('was-validated')
            }, false)
            })
        })()

        function onChange() {
            const password = document.querySelector('input[name=password]');
            const confirm = document.querySelector('input[name=confirm_password]');
            if (confirm.value === password.value) {
                confirm.setCustomValidity(document.getElementById('cP_success').innerHTML = 'Match');
            } else {
                confirm.setCustomValidity(document.getElementById('cP_error').innerHTML = 'Not Match');
            }
        }
    </script>
</body>
</html>